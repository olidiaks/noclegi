{"version":3,"file":"static/js/974.2565e309.chunk.js","mappings":"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","sources":["pages/Profile/MyHotels/AddHotel/AddHotel.js","pages/Profile/MyHotels/HotelForm/HotelForm.js"],"sourcesContent":["import useWebsiteTitle from \"../../../../hooks/useWebsiteTitle\";\nimport HotelForm from \"../HotelForm/HotelForm\";\nimport instance from \"../../../../axios\";\nimport useAuth from \"../../../../hooks/useAuth\";\n\n\nconst AddHotel = () => {\n\n    useWebsiteTitle(\"Dodawanie hoteli | Noclegi.\")\n\n    const [{token}] = useAuth();\n\n    async function submit(form) {\n        await instance.post(`/hotels.json?auth=${token}`, form);\n    }\n\n    return <>\n        <HotelForm title=\"Dodaj Hotel\" buttonLabel=\"Dodaj.\" buttonLoadingLabel=\"Dodawanie Hotelu\" onSubmit={submit}/>\n    </>;\n};\n\nexport default AddHotel;","import Input from \"../../../../components/forms/Inputs/Input\";\nimport {inputChangeHandler} from \"../../../../components/forms/Inputs/InputHelpers/inputChangeHandler\";\nimport {useContext, useEffect, useState} from \"react\";\nimport LoadingButton from \"../../../../components/UI/LoadingButton/LoadingButton\";\nimport {func, object, string} from \"prop-types\";\nimport themeContext from \"../../../../context/themeContext\";\nimport {\n    checkValidationForTrackedInputs\n} from \"../../../../components/forms/Inputs/InputHelpers/checkValidationForTrackedInputs\";\nimport {useNavigate} from \"react-router-dom\";\nimport useAuth from \"../../../../hooks/useAuth\";\nimport {firebaseErrorsHandler} from \"../../../../hooks/Firebase/firebaseErrorsHandler\";\n\nconst propTypes = {\n    title: string.isRequired,\n    buttonLabel: string.isRequired,\n    buttonLoadingLabel: string.isRequired,\n    onSubmit: func.isRequired,\n    hotel: object,\n};\n\nfunction HotelForm(props) {\n    const theme = useContext(themeContext).color;\n\n    const [name, setName] = useState({\n        value: '',\n        error: '',\n        showError: false,\n        rules: ['required', {rule: \"min\", length: 4}]\n    });\n    const [city, setCity] = useState({value: '', error: '', showError: false, rules: ['required']});\n    const [rooms, setRooms] = useState({value: '2', error: '', showError: false, rules: ['required']});\n    const [description, setDescription] = useState({\n        value: '',\n        error: '',\n        showError: false,\n        rules: ['required', {rule: \"min\", length: 10}]\n    });\n    const [status, setStatus] = useState({value: 'Aktywny', error: '', showError: false, rules: ['required']});\n\n    const [image, setImage] = useState({value: null, error: '', showError: false, rules: []});\n\n    const [features, setFeatures] = useState({value: [], error: '', showError: false, rules: []});\n\n    useEffect(() => {\n        const hotel = props.hotel ?? {\n            name: '',\n            city: '',\n            rooms: '',\n            description: '',\n            status: 'Aktywny',\n            features: [],\n        };\n        setName({...name, value: hotel.name ?? '', showError: true, error: '', isValid: true});\n        setCity({...city, value: hotel.city ?? '', showError: true, error: '', isValid: true});\n        setRooms({...rooms, value: hotel.rooms ?? ''});\n        setDescription({...description, value: hotel.description ?? '', showError: true, error: '', isValid: true});\n        setStatus({...status, value: hotel.status ?? ''});\n        setFeatures({...features, value: hotel.features ?? []});\n    }, [props.hotel]);\n\n    const [loading, setLoading] = useState(false);\n    const [addSuccess, setAddSuccess] = useState(false);\n\n    const [isEverythingValid, setIsEverythingValid] = useState(false);\n    const trackValues = [city, description, name]\n    useEffect(() => {\n        setIsEverythingValid(checkValidationForTrackedInputs(trackValues));\n    }, trackValues);\n\n    const [error, setError] = useState(null);\n    const navigate = useNavigate();\n    const [auth] = useAuth();\n    const submit = async event => {\n        event.preventDefault();\n        setLoading(true);\n        try {\n            await props.onSubmit({\n                name: name.value,\n                city: city.value,\n                rooms: rooms.value,\n                description: description.value,\n                status: status.value,\n                features: features.value,\n                idUser: auth.userId,\n            });\n            navigate(\"/profil/mojeHotele\", {replace: false});\n        } catch (e) {\n            setError(firebaseErrorsHandler(e.response));\n        }\n\n        setLoading(false);\n        setAddSuccess(true);\n        setTimeout(() => setAddSuccess(false), 3000);\n\n    }\n\n    return (\n        <>\n            {error ? <div className=\"alert alert-danger\">{error}</div> : null}\n            {addSuccess ? <div className=\"alert alert-success\">\n                <p>Pomyślnie dodano nowy hotel.</p>\n            </div> : null}\n            <div className=\"card\">\n                <div className=\"card-header\">\n                    {props.title}\n                </div>\n                <div className=\"card-body\">\n                    <form onSubmit={submit}>\n\n                        <Input\n                            description=\"Nazwa\"\n                            value={name.value}\n                            onChange={value => inputChangeHandler(value, name, setName)}\n                            type=\"text\"\n                            isValid={name.isValid}\n                            showError={name.showError}\n                            invalidFeedback={name.error}\n                        />\n\n                        <Input\n                            description=\"Miejscowość\"\n                            value={city.value}\n                            onChange={value => inputChangeHandler(value, city, setCity)}\n                            type=\"text\"\n                            isValid={city.isValid}\n                            showError={city.showError}\n                            invalidFeedback={city.error}\n                        />\n\n                        <Input\n                            description=\"Opis\"\n                            value={description.value}\n                            onChange={value => inputChangeHandler(value, description, setDescription)}\n                            type=\"textarea\"\n                            isValid={description.isValid}\n                            showError={description.showError}\n                            invalidFeedback={description.error}\n                        />\n\n                        <Input\n                            description=\"Pokoje\"\n                            value={rooms.value}\n                            onChange={value => inputChangeHandler(value, rooms, setRooms)}\n                            type=\"select\"\n                            option={[\n                                {value: 1, label: 1},\n                                {value: 2, label: 2},\n                                {value: 3, label: 3},\n                                {value: 4, label: 4},\n                            ]}\n                            isValid={rooms.isValid}\n                            showError={rooms.showError}\n                            invalidFeedback={rooms.error}\n                        />\n\n                        <Input onChange={value => setImage({...image, value})} description=\"Zdjęcie\" type=\"file\"/>\n\n                        <Input\n                            description=\"udogodnienia\"\n                            onChange={value => inputChangeHandler(value, features, setFeatures)}\n                            type=\"checkbox\"\n                            value={features.value}\n                            option={[\n                                {value: 'tv', label: 'TV'},\n                                {value: 'wifi', label: 'Wi-Fi'},\n                                {value: 'parking', label: 'Parking'},\n                            ]}\n                            isValid={features.isValid}\n                            showError={features.showError}\n                            invalidFeedback={features.error}\n                        />\n\n                        <Input\n                            type=\"radio\"\n                            value={status.value}\n                            onChange={value => inputChangeHandler(value, status, setStatus)}\n                            description=\"Status\"\n                            name=\"active\"\n                            option={[\n                                {value: \"Aktywny\", label: \"Aktywny\"},\n                                {value: \"Ukryty\", label: \"Ukryty\"}\n                            ]}\n                            isValid={status.isValid}\n                            showError={status.showError}\n                            invalidFeedback={status.error}\n                        />\n\n                        <LoadingButton\n                            loading={loading}\n                            label={props.buttonLabel}\n                            loadingLabel={props.buttonLoadingLabel}\n                            className={`btn-${theme}`}\n                            disabled={!isEverythingValid}\n                        />\n                    </form>\n                </div>\n            </div>\n        </>\n    )\n}\n\nHotelForm.propTypes = propTypes;\n\nexport default HotelForm;"],"names":["useWebsiteTitle","useAuth","token","form","instance","title","buttonLabel","buttonLoadingLabel","onSubmit","props","theme","useContext","themeContext","color","useState","value","error","showError","rules","rule","length","name","setName","city","setCity","rooms","setRooms","description","setDescription","status","setStatus","image","setImage","features","setFeatures","useEffect","hotel","isValid","loading","setLoading","addSuccess","setAddSuccess","isEverythingValid","setIsEverythingValid","trackValues","checkValidationForTrackedInputs","setError","navigate","useNavigate","auth","submit","event","preventDefault","idUser","userId","replace","firebaseErrorsHandler","response","setTimeout","className","onChange","inputChangeHandler","type","invalidFeedback","option","label","loadingLabel","disabled"],"sourceRoot":""}