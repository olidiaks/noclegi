"use strict";(self.webpackChunknoclegi=self.webpackChunknoclegi||[]).push([[285],{9285:function(e,t,n){n.r(t);var r=n(4165),s=n(5861),c=n(885),a=n(6871),i=n(3504),o=n(1364),l=n(2791),u=n(6625),d=n(7834),h=n(7411),j=n(4392),f=n(7125),p=n(184);t.default=function(){(0,o.Z)("Moje hotele. | Noclegi");var e=(0,a.WU)("dodaj-nowy-hotel"),t=(0,l.useContext)(j.Z).color,n=(0,l.useState)(!0),x=(0,c.Z)(n,2),b=x[0],Z=x[1],m=(0,d.Z)(),w=(0,c.Z)(m,1)[0],g=(0,l.useState)([]),k=(0,c.Z)(g,2),v=k[0],y=k[1],N=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=y,e.next=3,(0,u.H)();case 3:e.t1=e.sent.filter((function(e){return e.idUser==w.userId})),(0,e.t0)(e.t1),Z(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function U(){return(U=(0,s.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.Z.delete("/hotels/".concat(t,".json"));case 3:y(v.filter((function(e){return e.id!==t}))),e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),console.log(e.t0.response),Error(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return(0,l.useEffect)((function(){N()}),[N]),(0,p.jsx)("div",{children:b?(0,p.jsx)(f.Z,{}):(0,p.jsxs)(p.Fragment,{children:[v?(0,p.jsxs)("table",{className:"table table-striped",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Nazwa"}),(0,p.jsx)("th",{children:"Status"}),(0,p.jsx)("th",{children:"Opcje"})]})}),(0,p.jsx)("tbody",{children:v.map((function(e){return(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:e.name}),(0,p.jsx)("td",{children:e.status}),(0,p.jsxs)("td",{children:[(0,p.jsx)(i.rU,{to:"/profil/hotele/edytuj/".concat(e.id),className:"btn btn-warning",children:"Edytuj"}),(0,p.jsx)("button",{onClick:function(){return function(e){return U.apply(this,arguments)}(e.id)},className:"ms-2 btn btn-danger",children:"Usu\u0144"})]})]},e.id)}))})]}):(0,p.jsx)("p",{children:"Nie ma jeszcze \u017cadnego hotelu."}),(0,p.jsx)(i.rU,{to:e,className:"btn btn-".concat(t),children:"Dodaj hotel"})]})})}}}]);
//# sourceMappingURL=285.c7a48e07.chunk.js.map