{"version":3,"file":"static/js/974.172828f8.chunk.js","mappings":"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","sources":["pages/Profile/MyHotels/AddHotel/AddHotel.js"],"sourcesContent":["import {useContext, useEffect, useRef, useState} from \"react\";\nimport LoadingButton from \"../../../../components/UI/LoadingButton/LoadingButton\";\nimport themeContext from \"../../../../context/themeContext\";\nimport Input from \"../../../../components/Inputs/Input\";\nimport {Validation} from \"../../../../helpers/Validation/Validation\";\n\nconst AddHotel = () => {\n    const theme = useContext(themeContext).color;\n\n    const [name, setName] = useState({\n        value: '',\n        error: '',\n        showError: false,\n        rules: ['required', {rule: \"min\", length: 4}]\n    });\n    const [city, setCity] = useState({value: '', error: '', showError: false, rules: ['required']});\n    const [rooms, setRooms] = useState({value: '2', error: '', showError: false, rules: ['required']});\n    const [description, setDescription] = useState({\n        value: '',\n        error: '',\n        showError: false,\n        rules: ['required', {rule: \"min\", length: 10}]\n    });\n    const [status, setStatus] = useState({value: 'Aktywny', error: '', showError: false, rules: ['required']});\n\n    const imageRef = useRef();\n    const [image, setImage] = useState({value: null, error: '', showError: false, rules: []});\n\n    const [features, setFeatures] = useState({value: [], error: '', showError: false, rules: []});\n\n    const [loading, setLoading] = useState(false);\n    const [addSuccess, setAddSuccess] = useState(false);\n\n    const [isEverythingValid, setIsEverythingValid] = useState(false);\n    const checkValidationForAllInputs = () => {\n        const variables = [city, description, name];\n\n        for (const variable of variables) {\n            if (variable instanceof Object) {\n                if (!variable.showError || !variable.isValid) {\n                    setIsEverythingValid(false);\n                    return null;\n                }\n            }\n        }\n        setIsEverythingValid(true);\n    }\n\n    useEffect(() => {\n        checkValidationForAllInputs();\n    }, [city, description, name]);\n\n    const submit = event => {\n        event.preventDefault();\n        setLoading(true);\n        setTimeout(() => {\n            setLoading(false);\n            setAddSuccess(true);\n            setTimeout(() => setAddSuccess(false), 3000);\n        }, 500);\n    }\n\n    const onChangeHandler = (value, state, setState) => {\n        setState({\n                ...state,\n                value: value,\n                showError: true,\n                ...Validation(state.rules, value),\n            }\n        );\n    };\n\n    return <>\n        {addSuccess ? <div className=\"alert alert-success\">\n            <p>Pomyślnie dodano nowy hotel.</p>\n        </div> : null}\n        <div className=\"card\">\n            <div className=\"card-header\">\n                Nowy hotel\n            </div>\n            <div className=\"card-body\">\n                <form onSubmit={submit}>\n\n                    <Input\n                        description=\"Nazwa\"\n                        value={name.value}\n                        onChange={value => onChangeHandler(value, name, setName)}\n                        type=\"text\"\n                        isValid={name.isValid}\n                        showError={name.showError}\n                        invalidFeedback={name.error}\n                    />\n\n                    <Input\n                        description=\"Miejscowość\"\n                        value={city.value}\n                        onChange={value => onChangeHandler(value, city, setCity)}\n                        type=\"text\"\n                        isValid={city.isValid}\n                        showError={city.showError}\n                        invalidFeedback={city.error}\n                    />\n\n                    <Input\n                        description=\"Opis\"\n                        value={description.value}\n                        onChange={value => onChangeHandler(value, description, setDescription)}\n                        type=\"textarea\"\n                        isValid={description.isValid}\n                        showError={description.showError}\n                        invalidFeedback={description.error}\n                    />\n\n                    <Input\n                        description=\"Pokoje\"\n                        value={rooms.value}\n                        onChange={value => onChangeHandler(value, rooms, setRooms)}\n                        type=\"select\"\n                        option={[\n                            {value: 1, label: 1},\n                            {value: 2, label: 2},\n                            {value: 3, label: 3},\n                            {value: 4, label: 4},\n                        ]}\n                        isValid={rooms.isValid}\n                        showError={rooms.showError}\n                        invalidFeedback={rooms.error}\n                    />\n\n                    <Input onChange={value => setImage({...image, value})} description=\"Zdjęcie\" type=\"file\"/>\n\n                    <Input\n                        description=\"udogodnienia\"\n                        onChange={value => onChangeHandler(value, features, setFeatures)}\n                        type=\"checkbox\"\n                        value={features.value}\n                        option={[\n                            {value: 'tv', label: 'TV'},\n                            {value: 'wifi', label: 'Wi-Fi'},\n                            {value: 'parking', label: 'Parking'},\n                        ]}\n                        isValid={features.isValid}\n                        showError={features.showError}\n                        invalidFeedback={features.error}\n                    />\n\n                    <Input\n                        type=\"radio\"\n                        value={status.value}\n                        onChange={value => onChangeHandler(value, status, setStatus)}\n                        description=\"Status\"\n                        name=\"active\"\n                        option={[\n                            {value: \"Aktywny\", label: \"Aktywny\"},\n                            {value: \"Ukryty\", label: \"Ukryty\"}\n                        ]}\n                        isValid={status.isValid}\n                        showError={status.showError}\n                        invalidFeedback={status.error}\n                    />\n\n                    <LoadingButton\n                        loading={loading}\n                        label=\"Dodaj hotel.\"\n                        loadingLabel=\"Dodawanie hotelu.\"\n                        className={`btn-${theme}`}\n                        disabled={!isEverythingValid}\n                    />\n                </form>\n            </div>\n        </div>\n    </>;\n};\n\nexport default AddHotel;"],"names":["theme","useContext","themeContext","color","useState","value","error","showError","rules","rule","length","name","setName","city","setCity","rooms","setRooms","description","setDescription","status","setStatus","useRef","image","setImage","features","setFeatures","loading","setLoading","addSuccess","setAddSuccess","isEverythingValid","setIsEverythingValid","useEffect","variable","Object","isValid","checkValidationForAllInputs","onChangeHandler","state","setState","Validation","className","onSubmit","event","preventDefault","setTimeout","onChange","type","invalidFeedback","option","label","loadingLabel","disabled"],"sourceRoot":""}