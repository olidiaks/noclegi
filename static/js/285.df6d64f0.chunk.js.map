{"version":3,"file":"static/js/285.df6d64f0.chunk.js","mappings":"kPA4EA,UAnEiB,YACbA,EAAAA,EAAAA,GAAgB,0BAEhB,IAAMC,GAAOC,EAAAA,EAAAA,IAAgB,oBAEtBC,GAASC,EAAAA,EAAAA,YAAWC,EAAAA,GAApBF,MAEP,GAA8BG,EAAAA,EAAAA,WAAS,GAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAeC,EAAAA,EAAAA,KAARC,GAAP,eACA,GAA4BJ,EAAAA,EAAAA,UAAS,IAArC,eAAOK,EAAP,KAAeC,EAAf,KACMC,EAAU,yCAAG,+FACfD,EADe,UACEE,EAAAA,EAAAA,KADF,mBACyBC,QAAO,SAAAC,GAAK,OAAIA,EAAMC,QAAUP,EAAKQ,MAAzB,KADrC,cAEfV,GAAW,GAFI,2CAAH,qDAVG,8CAkBnB,WAA6BW,GAA7B,+FAEcC,EAAAA,EAAAA,OAAA,kBAA2BD,EAA3B,UAFd,OAGQP,EAAUD,EAAOI,QAAO,SAAAC,GAAK,OAAIA,EAAMG,KAAOA,CAAjB,KAHrC,sDAKQE,QAAQC,IAAI,KAAEC,UACRC,MAAM,KAAED,UANtB,0DAlBmB,sBA4BnB,OAdAE,EAAAA,EAAAA,YAAU,WACNZ,GACH,GAAE,KAYI,yBACFN,GAAU,SAAC,IAAD,KAEH,gCACKI,GACG,mBAAOe,UAAU,sBAAjB,WACI,4BACA,2BACI,mCACA,oCACA,wCAGJ,2BAEIf,EAAOgB,KAAI,SAAAX,GAAK,OACZ,2BACI,wBAAKA,EAAMY,QACX,wBAAKZ,EAAMa,UACX,2BACI,SAAC,KAAD,CAAMC,GAAE,gCAA2Bd,EAAMG,IACnCO,UAAU,kBADhB,qBAEA,mBAAQK,QAAS,kBAlDtC,2CAkD4CC,CAAchB,EAAMG,GAA1B,EACTO,UAAU,sBADlB,4BANCV,EAAMG,GADH,UAgBxB,gEACJ,SAAC,KAAD,CAAMW,GAAI7B,EAAMyB,UAAS,kBAAavB,GAAtC,6BAKnB,C","sources":["pages/Profile/MyHotels/MyHotels.js"],"sourcesContent":["import {Link, useResolvedPath} from \"react-router-dom\";\nimport useWebsiteTitle from \"../../../hooks/useWebsiteTitle\";\nimport {useContext, useEffect, useState} from \"react\";\nimport {firebaseFetchHotels} from \"../../../hooks/Firebase/firebaseFetchHotels\";\nimport useAuth from \"../../../hooks/useAuth\";\nimport instance from \"../../../axios\";\nimport ThemeContext from \"../../../context/themeContext\";\nimport LoadingIcon from \"../../../components/UI/LoadingIcon/LoadingIcon\";\n\nconst MyHotels = () => {\n    useWebsiteTitle(\"Moje hotele. | Noclegi\");\n\n    const path = useResolvedPath('dodaj-nowy-hotel');\n\n    const {color} = useContext(ThemeContext);\n\n    const [loading, setLoading] = useState(true);\n    const [auth] = useAuth();\n    const [hotels, setHotels] = useState([]);\n    const fetchHotel = async () => {\n        setHotels((await firebaseFetchHotels()).filter(hotel => hotel.idUser == auth.userId));\n        setLoading(false);\n    }\n    useEffect(() => {\n        fetchHotel();\n    }, [])\n\n    async function deleteHandler(id) {\n        try {\n            await instance.delete(`/hotels/${id}.json`);\n            setHotels(hotels.filter(hotel => hotel.id !== id));\n        } catch (e) {\n            console.log(e.response);\n            throw Error(e.response);\n        }\n    }\n\n    return <div>\n        {loading ? <LoadingIcon/> :\n            (\n                <>\n                    {hotels ? (\n                        <table className=\"table table-striped\">\n                            <thead>\n                            <tr>\n                                <td>Nazwa</td>\n                                <td>Status</td>\n                                <td>Opcje</td>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            {\n                                hotels.map(hotel =>\n                                    <tr key={hotel.id}>\n                                        <td>{hotel.name}</td>\n                                        <td>{hotel.status}</td>\n                                        <td>\n                                            <Link to={`/profil/hotele/edytuj/${hotel.id}`}\n                                                  className=\"btn btn-warning\">Edytuj</Link>\n                                            <button onClick={() => deleteHandler(hotel.id)}\n                                                    className=\"ms-2 btn btn-danger\">Usuń\n                                            </button>\n                                        </td>\n                                    </tr>\n                                )\n                            }\n                            </tbody>\n                        </table>\n                    ) : <p>Nie ma jeszcze żadnego hotelu.</p>}\n                    <Link to={path} className={`btn btn-${color}`}>Dodaj hotel</Link>\n                </>\n            )\n        }\n    </div>;\n};\n\nexport default MyHotels;"],"names":["useWebsiteTitle","path","useResolvedPath","color","useContext","ThemeContext","useState","loading","setLoading","useAuth","auth","hotels","setHotels","fetchHotel","firebaseFetchHotels","filter","hotel","idUser","userId","id","instance","console","log","response","Error","useEffect","className","map","name","status","to","onClick","deleteHandler"],"sourceRoot":""}