"use strict";(self.webpackChunknoclegi=self.webpackChunknoclegi||[]).push([[285],{9285:function(e,n,t){t.r(n);var r=t(4165),s=t(5861),c=t(885),i=t(6871),a=t(3504),o=t(1364),u=t(2791),l=t(6625),d=t(7834),h=t(7411),f=t(184);n.default=function(){(0,o.Z)("Moje hotele. | Noclegi");var e=(0,i.WU)("dodaj-nowy-hotel"),n=(0,d.Z)(),t=(0,c.Z)(n,1)[0],p=(0,u.useState)([]),j=(0,c.Z)(p,2),x=j[0],b=j[1],m=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.next=3,(0,l.H)();case 3:e.t1=e.sent.filter((function(e){return e.idUser==t.userId})),(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Z(){return(Z=(0,s.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.Z.delete("/hotels/".concat(n,".json"));case 3:b(x.filter((function(e){return e.id!==n}))),e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),console.log(e.t0.response),Error(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return(0,u.useEffect)((function(){m()}),[]),(0,f.jsxs)("div",{children:[x?(0,f.jsxs)("table",{className:"table table-striped",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:"Nazwa"}),(0,f.jsx)("td",{children:"Opcje"})]})}),(0,f.jsx)("tbody",{children:x.map((function(e){return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:e.name}),(0,f.jsxs)("td",{children:[(0,f.jsx)("button",{className:"btn btn-warning",children:"Edytuj"}),(0,f.jsx)("button",{onClick:function(){return function(e){return Z.apply(this,arguments)}(e.id)},className:"ms-2 btn btn-danger",children:"Usu\u0144"})]})]},e.id)}))})]}):(0,f.jsx)("p",{children:"Nie ma jeszcze \u017cadnego hotelu."}),(0,f.jsx)(a.rU,{to:e,className:"btn btn-primary",children:"Dodaj hotel"})]})}}}]);
//# sourceMappingURL=285.798ece2f.chunk.js.map