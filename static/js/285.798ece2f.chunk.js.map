{"version":3,"file":"static/js/285.798ece2f.chunk.js","mappings":"8NA2DA,UApDiB,YACbA,EAAAA,EAAAA,GAAgB,0BAEhB,IAAMC,GAAOC,EAAAA,EAAAA,IAAgB,oBAE7B,GAAeC,EAAAA,EAAAA,KAARC,GAAP,eACA,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACMC,EAAU,yCAAG,+FACfD,EADe,UACEE,EAAAA,EAAAA,KADF,mBACyBC,QAAO,SAAAC,GAAK,OAAIA,EAAMC,QAAUR,EAAKS,MAAzB,KADrC,yDAAH,qDAPG,8CAcnB,WAA6BC,GAA7B,+FAEcC,EAAAA,EAAAA,OAAA,kBAA2BD,EAA3B,UAFd,OAGQP,EAAUD,EAAOI,QAAO,SAAAC,GAAK,OAAIA,EAAMG,KAAOA,CAAjB,KAHrC,sDAKQE,QAAQC,IAAI,KAAEC,UACRC,MAAM,KAAED,UANtB,0DAdmB,sBAwBnB,OAdAE,EAAAA,EAAAA,YAAU,WACNZ,GACH,GAAE,KAYI,2BACFF,GACG,mBAAOe,UAAU,sBAAjB,WACI,4BACA,2BACI,mCACA,wCAGJ,2BAEIf,EAAOgB,KAAI,SAAAX,GAAK,OACZ,2BACI,wBAAKA,EAAMY,QACX,2BACI,mBAAQF,UAAU,kBAAlB,qBACA,mBAAQG,QAAS,kBAxC1B,2CAwCgCC,CAAcd,EAAMG,GAA1B,EAA+BO,UAAU,sBAA1D,4BAJCV,EAAMG,GADH,UAYxB,gEACJ,SAAC,KAAD,CAAMY,GAAIzB,EAAMoB,UAAU,kBAA1B,2BAEP,C","sources":["pages/Profile/MyHotels/MyHotels.js"],"sourcesContent":["import {Link, useResolvedPath} from \"react-router-dom\";\nimport useWebsiteTitle from \"../../../hooks/useWebsiteTitle\";\nimport {useEffect, useState} from \"react\";\nimport {firebaseFetchHotels} from \"../../../hooks/Firebase/firebaseFetchHotels\";\nimport useAuth from \"../../../hooks/useAuth\";\nimport instance from \"../../../axios\";\n\nconst MyHotels = () => {\n    useWebsiteTitle(\"Moje hotele. | Noclegi\");\n\n    const path = useResolvedPath('dodaj-nowy-hotel');\n\n    const [auth] = useAuth();\n    const [hotels, setHotels] = useState([]);\n    const fetchHotel = async () => {\n        setHotels((await firebaseFetchHotels()).filter(hotel => hotel.idUser == auth.userId));\n    }\n    useEffect(() => {\n        fetchHotel();\n    }, [])\n\n    async function deleteHandler(id) {\n        try {\n            await instance.delete(`/hotels/${id}.json`);\n            setHotels(hotels.filter(hotel => hotel.id !== id));\n        } catch (e) {\n            console.log(e.response);\n            throw Error(e.response);\n        }\n    }\n\n    return <div>\n        {hotels ? (\n            <table className=\"table table-striped\">\n                <thead>\n                <tr>\n                    <td>Nazwa</td>\n                    <td>Opcje</td>\n                </tr>\n                </thead>\n                <tbody>\n                {\n                    hotels.map(hotel =>\n                        <tr key={hotel.id}>\n                            <td>{hotel.name}</td>\n                            <td>\n                                <button className=\"btn btn-warning\">Edytuj</button>\n                                <button onClick={() => deleteHandler(hotel.id)} className=\"ms-2 btn btn-danger\">Usuń\n                                </button>\n                            </td>\n                        </tr>)\n                }\n                </tbody>\n            </table>\n        ) : <p>Nie ma jeszcze żadnego hotelu.</p>}\n        <Link to={path} className=\"btn btn-primary\">Dodaj hotel</Link>\n    </div>;\n};\n\nexport default MyHotels;"],"names":["useWebsiteTitle","path","useResolvedPath","useAuth","auth","useState","hotels","setHotels","fetchHotel","firebaseFetchHotels","filter","hotel","idUser","userId","id","instance","console","log","response","Error","useEffect","className","map","name","onClick","deleteHandler","to"],"sourceRoot":""}